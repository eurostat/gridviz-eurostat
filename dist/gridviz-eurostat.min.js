!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.gridviz_eurostat=t():n.gridviz_eurostat=t()}(self,(()=>(()=>{"use strict";var n={d:(t,r)=>{for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t),r:n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};n.r(t),n.d(t,{getEuronymeLabelLayer:()=>Sn,getEurostatBoundariesLayer:()=>mn,giscoBackgroundLayer:()=>En,proj3035:()=>yn});var r=1e-6,e=Math.PI,o=e/2,i=e/4,u=2*e,l=180/e,a=e/180,f=Math.abs,c=Math.atan,p=Math.atan2,s=Math.cos,v=(Math.ceil,Math.exp,Math.floor,Math.hypot,Math.log,Math.pow,Math.sin),h=Math.sign||function(n){return n>0?1:n<0?-1:0},g=Math.sqrt;function d(n){return n>1?o:n<-1?-o:Math.asin(n)}function y(){}function S(){var n,t=[];return{point:function(t,r,e){n.push([t,r,e])},lineStart:function(){t.push(n=[])},lineEnd:y,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function m(n,t){return f(n[0]-t[0])<r&&f(n[1]-t[1])<r}function E(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function b(n,t,r,e,o){var i,u,l=[],a=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r,e=n[0],u=n[t];if(m(e,u)){if(!e[2]&&!u[2]){for(o.lineStart(),i=0;i<t;++i)o.point((e=n[i])[0],e[1]);return void o.lineEnd()}u[0]+=2e-6}l.push(r=new E(e,n,null,!0)),a.push(r.o=new E(e,null,r,!1)),l.push(r=new E(u,n,null,!1)),a.push(r.o=new E(u,null,r,!0))}})),l.length){for(a.sort(t),M(l),M(a),i=0,u=a.length;i<u;++i)a[i].e=r=!r;for(var f,c,p=l[0];;){for(var s=p,v=!0;s.v;)if((s=s.n)===p)return;f=s.z,o.lineStart();do{if(s.v=s.o.v=!0,s.e){if(v)for(i=0,u=f.length;i<u;++i)o.point((c=f[i])[0],c[1]);else e(s.x,s.n.x,1,o);s=s.n}else{if(v)for(f=s.p.z,i=f.length-1;i>=0;--i)o.point((c=f[i])[0],c[1]);else e(s.x,s.p.x,-1,o);s=s.p}f=(s=s.o).z,v=!v}while(!s.v);o.lineEnd()}}}function M(n){if(t=n.length){for(var t,r,e=0,o=n[0];++e<t;)o.n=r=n[e],r.p=o,o=r;o.n=r=n[0],r.p=o}}Math.tan;class x{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let r=0;for(let e=0;e<this._n&&e<32;e++){const o=t[e],i=n+o,u=Math.abs(n)<Math.abs(o)?n-(i-o):o-(i-n);u&&(t[r++]=u),n=i}return t[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let t,r,e,o=this._n,i=0;if(o>0){for(i=n[--o];o>0&&(t=i,r=n[--o],i=t+r,e=r-(i-t),!e););o>0&&(e<0&&n[o-1]<0||e>0&&n[o-1]>0)&&(r=2*e,t=i+r,r==t-i&&(i=t))}return i}}function w(n){return[p(n[1],n[0]),d(n[2])]}function j(n){var t=n[0],r=n[1],e=s(r);return[e*s(t),e*v(t),v(r)]}function L(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function N(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function A(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function O(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function P(n){var t=g(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _(n){return f(n[0])<=e?n[0]:h(n[0])*((f(n[0])+e)%u-e)}function T(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}function U(n,t,l,a){return function(f){var c,h,g,y=t(f),m=S(),E=t(m),M=!1,w={point:L,lineStart:O,lineEnd:U,polygonStart:function(){w.point=R,w.lineStart=F,w.lineEnd=C,h=[],c=[]},polygonEnd:function(){w.point=L,w.lineStart=O,w.lineEnd=U,h=T(h);var n=function(n,t){var l=_(t),a=t[1],f=v(a),c=[v(l),-s(l),0],h=0,g=0,y=new x;1===f?a=o+r:-1===f&&(a=-o-r);for(var S=0,m=n.length;S<m;++S)if(b=(E=n[S]).length)for(var E,b,M=E[b-1],w=_(M),L=M[1]/2+i,A=v(L),O=s(L),T=0;T<b;++T,w=z,A=R,O=F,M=U){var U=E[T],z=_(U),I=U[1]/2+i,R=v(I),F=s(I),C=z-w,B=C>=0?1:-1,Y=B*C,k=Y>e,D=A*R;if(y.add(p(D*B*v(Y),O*F+D*s(Y))),h+=k?C+B*u:C,k^w>=l^z>=l){var G=N(j(M),j(U));P(G);var X=N(c,G);P(X);var q=(k^C>=0?-1:1)*d(X[2]);(a>q||a===q&&(G[0]||G[1]))&&(g+=k^C>=0?1:-1)}}return(h<-r||h<r&&y<-1e-12)^1&g}(c,a);h.length?(M||(f.polygonStart(),M=!0),b(h,I,n,l,f)):n&&(M||(f.polygonStart(),M=!0),f.lineStart(),l(null,null,1,f),f.lineEnd()),M&&(f.polygonEnd(),M=!1),h=c=null},sphere:function(){f.polygonStart(),f.lineStart(),l(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function L(t,r){n(t,r)&&f.point(t,r)}function A(n,t){y.point(n,t)}function O(){w.point=A,y.lineStart()}function U(){w.point=L,y.lineEnd()}function R(n,t){g.push([n,t]),E.point(n,t)}function F(){E.lineStart(),g=[]}function C(){R(g[0][0],g[0][1]),E.lineEnd();var n,t,r,e,o=E.clean(),i=m.result(),u=i.length;if(g.pop(),c.push(g),g=null,u)if(1&o){if((t=(r=i[0]).length-1)>0){for(M||(f.polygonStart(),M=!0),f.lineStart(),n=0;n<t;++n)f.point((e=r[n])[0],e[1]);f.lineEnd()}}else u>1&&2&o&&i.push(i.pop().concat(i.shift())),h.push(i.filter(z))}return w}}function z(n){return n.length>1}function I(n,t){return((n=n.x)[0]<0?n[1]-o-r:o-n[1])-((t=t.x)[0]<0?t[1]-o-r:o-t[1])}const R=U((function(){return!0}),(function(n){var t,i=NaN,u=NaN,l=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(a,p){var h=a>0?e:-e,g=f(a-i);f(g-e)<r?(n.point(i,u=(u+p)/2>0?o:-o),n.point(l,u),n.lineEnd(),n.lineStart(),n.point(h,u),n.point(a,u),t=0):l!==h&&g>=e&&(f(i-l)<r&&(i-=l*r),f(a-h)<r&&(a-=h*r),u=function(n,t,e,o){var i,u,l=v(n-e);return f(l)>r?c((v(t)*(u=s(o))*v(e)-v(o)*(i=s(t))*v(n))/(i*u*l)):(t+o)/2}(i,u,a,p),n.point(l,u),n.lineEnd(),n.lineStart(),n.point(h,u),t=0),n.point(i=a,u=p),l=h},lineEnd:function(){n.lineEnd(),i=u=NaN},clean:function(){return 2-t}}}),(function(n,t,i,u){var l;if(null==n)l=i*o,u.point(-e,l),u.point(0,l),u.point(e,l),u.point(e,0),u.point(e,-l),u.point(0,-l),u.point(-e,-l),u.point(-e,0),u.point(-e,l);else if(f(n[0]-t[0])>r){var a=n[0]<t[0]?e:-e;l=i*a/2,u.point(-a,l),u.point(0,l),u.point(a,l)}else u.point(t[0],t[1])}),[-e,-o]);function F(n,t){(t=j(t))[0]-=n,P(t);var o,i=(o=-t[1])>1?0:o<-1?e:Math.acos(o);return((-t[2]<0?-i:i)+u-r)%u}var C=1e9,B=-C;function Y(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r}const k=n=>n;function D(n,t){return f(n)>e&&(n-=Math.round(n/u)*u),[n,t]}function G(n){return function(t,r){return f(t+=n)>e&&(t-=Math.round(t/u)*u),[t,r]}}function X(n){var t=G(n);return t.invert=G(-n),t}function q(n,t){var r=s(n),e=v(n),o=s(t),i=v(t);function u(n,t){var u=s(t),l=s(n)*u,a=v(n)*u,f=v(t),c=f*r+l*e;return[p(a*o-c*i,l*r-f*e),d(c*o+a*i)]}return u.invert=function(n,t){var u=s(t),l=s(n)*u,a=v(n)*u,f=v(t),c=f*o-a*i;return[p(a*o+f*i,l*r+c*e),d(c*r-l*e)]},u}function H(n){return function(t){var r=new K;for(var e in n)r[e]=n[e];return r.stream=t,r}}function K(){}function W(n,t){n&&J.hasOwnProperty(n.type)&&J[n.type](n,t)}D.invert=D,K.prototype={constructor:K,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $={Feature:function(n,t){W(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,o=r.length;++e<o;)W(r[e].geometry,t)}},J={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Q(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)Q(r[e],t,0)},Polygon:function(n,t){V(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)V(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,o=r.length;++e<o;)W(r[e],t)}};function Q(n,t,r){var e,o=-1,i=n.length-r;for(t.lineStart();++o<i;)e=n[o],t.point(e[0],e[1],e[2]);t.lineEnd()}function V(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)Q(n[r],t,1);t.polygonEnd()}var Z=1/0,nn=Z,tn=-Z,rn=tn,en={point:function(n,t){n<Z&&(Z=n),n>tn&&(tn=n),t<nn&&(nn=t),t>rn&&(rn=t)},lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y,result:function(){var n=[[Z,nn],[tn,rn]];return tn=rn=-(nn=Z=1/0),n}};const on=en;function un(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=e&&n.clipExtent(null),function(n,t){n&&$.hasOwnProperty(n.type)?$[n.type](n,t):W(n,t)}(r,n.stream(on)),t(on.result()),null!=e&&n.clipExtent(e),n}function ln(n,t,r){return un(n,(function(r){var e=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(e/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+t[0][0]+(e-i*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-i*(r[1][1]+r[0][1]))/2;n.scale(150*i).translate([u,l])}),r)}var an=s(30*a);function fn(n,t){return+t?function(n,t){function e(o,i,u,l,a,c,s,v,h,y,S,m,E,b){var M=s-o,x=v-i,w=M*M+x*x;if(w>4*t&&E--){var j=l+y,L=a+S,N=c+m,A=g(j*j+L*L+N*N),O=d(N/=A),P=f(f(N)-1)<r||f(u-h)<r?(u+h)/2:p(L,j),_=n(P,O),T=_[0],U=_[1],z=T-o,I=U-i,R=x*z-M*I;(R*R/w>t||f((M*z+x*I)/w-.5)>.3||l*y+a*S+c*m<an)&&(e(o,i,u,l,a,c,T,U,P,j/=A,L/=A,N,E,b),b.point(T,U),e(T,U,P,j,L,N,s,v,h,y,S,m,E,b))}}return function(t){var r,o,i,u,l,a,f,c,p,s,v,h,g={point:d,lineStart:y,lineEnd:m,polygonStart:function(){t.polygonStart(),g.lineStart=E},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function d(r,e){r=n(r,e),t.point(r[0],r[1])}function y(){c=NaN,g.point=S,t.lineStart()}function S(r,o){var i=j([r,o]),u=n(r,o);e(c,p,f,s,v,h,c=u[0],p=u[1],f=r,s=i[0],v=i[1],h=i[2],16,t),t.point(c,p)}function m(){g.point=d,t.lineEnd()}function E(){y(),g.point=b,g.lineEnd=M}function b(n,t){S(r=n,t),o=c,i=p,u=s,l=v,a=h,g.point=S}function M(){e(c,p,f,s,v,h,o,i,r,u,l,a,16,t),g.lineEnd=m,m()}return g}}(n,t):function(n){return H({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}var cn=H({point:function(n,t){this.stream.point(n*a,t*a)}});function pn(n,t,r,e,o,i){if(!i)return function(n,t,r,e,o){function i(i,u){return[t+n*(i*=e),r-n*(u*=o)]}return i.invert=function(i,u){return[(i-t)/n*e,(r-u)/n*o]},i}(n,t,r,e,o);var u=s(i),l=v(i),a=u*n,f=l*n,c=u/n,p=l/n,h=(l*r-u*t)/n,g=(l*t+u*r)/n;function d(n,i){return[a*(n*=e)-f*(i*=o)+t,r-f*n-a*i]}return d.invert=function(n,t){return[e*(c*n-p*t+h),o*(g-p*n-c*t)]},d}var sn,vn,hn=(sn=function(n){return g(2/(1+n))},function(n,t){var r=s(n),e=s(t),o=sn(r*e);return o===1/0?[2,0]:[o*e*v(n),o*v(t)]});function gn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=Array(t);r<t;r++)e[r]=n[r];return e}hn.invert=(vn=function(n){return 2*d(n/2)},function(n,t){var r=g(n*n+t*t),e=vn(r),o=v(e),i=s(e);return[p(n*o,r*i),d(r&&t*o/r)]});var dn,yn=(dn=hn,function(n){var t,o,i,c,p,h,d,y,E,M,x=150,P=480,_=250,z=0,I=0,G=0,K=0,W=0,$=0,J=1,Q=1,V=null,Z=R,nn=null,tn=k,rn=.5;function en(n){return y(n[0]*a,n[1]*a)}function on(n){return(n=y.invert(n[0],n[1]))&&[n[0]*l,n[1]*l]}function an(){var n=pn(x,0,0,J,Q,$).apply(null,t(z,I)),r=pn(x,P-n[0],_-n[1],J,Q,$);return o=function(n,t,r){return(n%=u)?t||r?Y(X(n),q(t,r)):X(n):t||r?q(t,r):D}(G,K,W),d=Y(t,r),y=Y(o,d),h=fn(d,rn),sn()}function sn(){return E=M=null,en}return en.stream=function(n){return E&&M===n?E:E=cn(function(n){return H({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}(o)(Z(h(tn(M=n)))))},en.preclip=function(n){return arguments.length?(Z=n,V=void 0,sn()):Z},en.postclip=function(n){return arguments.length?(tn=n,nn=i=c=p=null,sn()):tn},en.clipAngle=function(n){return arguments.length?(Z=+n?function(n){var t=s(n),o=2*a,i=t>0,l=f(t)>r;function c(n,r){return s(n)*s(r)>t}function p(n,o,i){var u=[1,0,0],l=N(j(n),j(o)),a=L(l,l),c=l[0],p=a-c*c;if(!p)return!i&&n;var s=t*a/p,v=-t*c/p,h=N(u,l),d=O(u,s);A(d,O(l,v));var y=h,S=L(d,y),m=L(y,y),E=S*S-m*(L(d,d)-1);if(!(E<0)){var b=g(E),M=O(y,(-S-b)/m);if(A(M,d),M=w(M),!i)return M;var x,P=n[0],_=o[0],T=n[1],U=o[1];_<P&&(x=P,P=_,_=x);var z=_-P,I=f(z-e)<r;if(!I&&U<T&&(x=T,T=U,U=x),I||z<r?I?T+U>0^M[1]<(f(M[0]-P)<r?T:U):T<=M[1]&&M[1]<=U:z>e^(P<=M[0]&&M[0]<=_)){var R=O(y,(-S+b)/m);return A(R,d),[M,w(R)]}}}function h(t,r){var o=i?n:e-n,u=0;return t<-o?u|=1:t>o&&(u|=2),r<-o?u|=4:r>o&&(u|=8),u}return U(c,(function(n){var t,r,o,u,a;return{lineStart:function(){u=o=!1,a=1},point:function(f,s){var v,g=[f,s],d=c(f,s),y=i?d?0:h(f,s):d?h(f+(f<0?e:-e),s):0;if(!t&&(u=o=d)&&n.lineStart(),d!==o&&(!(v=p(t,g))||m(t,v)||m(g,v))&&(g[2]=1),d!==o)a=0,d?(n.lineStart(),v=p(g,t),n.point(v[0],v[1])):(v=p(t,g),n.point(v[0],v[1],2),n.lineEnd()),t=v;else if(l&&t&&i^d){var S;y&r||!(S=p(g,t,!0))||(a=0,i?(n.lineStart(),n.point(S[0][0],S[0][1]),n.point(S[1][0],S[1][1]),n.lineEnd()):(n.point(S[1][0],S[1][1]),n.lineEnd(),n.lineStart(),n.point(S[0][0],S[0][1],3)))}!d||t&&m(t,g)||n.point(g[0],g[1]),t=g,o=d,r=y},lineEnd:function(){o&&n.lineEnd(),t=null},clean:function(){return a|(u&&o)<<1}}}),(function(t,r,e,i){!function(n,t,r,e,o,i){if(r){var l=s(t),a=v(t),f=e*r;null==o?(o=t+e*u,i=t-f/2):(o=F(l,o),i=F(l,i),(e>0?o<i:o>i)&&(o+=e*u));for(var c,p=o;e>0?p>i:p<i;p-=f)c=w([l,-a*s(p),-a*v(p)]),n.point(c[0],c[1])}}(i,n,o,e,t,r)}),i?[0,-n]:[-e,n-e])}(V=n*a):(V=null,R),sn()):V*l},en.clipExtent=function(n){return arguments.length?(tn=null==n?(nn=i=c=p=null,k):function(n,t,e,o){function i(r,i){return n<=r&&r<=e&&t<=i&&i<=o}function u(r,i,u,a){var f=0,p=0;if(null==r||(f=l(r,u))!==(p=l(i,u))||c(r,i)<0^u>0)do{a.point(0===f||3===f?n:e,f>1?o:t)}while((f=(f+u+4)%4)!==p);else a.point(i[0],i[1])}function l(o,i){return f(o[0]-n)<r?i>0?0:3:f(o[0]-e)<r?i>0?2:1:f(o[1]-t)<r?i>0?1:0:i>0?3:2}function a(n,t){return c(n.x,t.x)}function c(n,t){var r=l(n,1),e=l(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(r){var l,f,c,p,s,v,h,g,d,y,m,E=r,M=S(),x={point:w,lineStart:function(){x.point=j,f&&f.push(c=[]),y=!0,d=!1,h=g=NaN},lineEnd:function(){l&&(j(p,s),v&&d&&M.rejoin(),l.push(M.result())),x.point=w,d&&E.lineEnd()},polygonStart:function(){E=M,l=[],f=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,r=0,e=f.length;r<e;++r)for(var i,u,l=f[r],a=1,c=l.length,p=l[0],s=p[0],v=p[1];a<c;++a)i=s,u=v,s=(p=l[a])[0],v=p[1],u<=o?v>o&&(s-i)*(o-u)>(v-u)*(n-i)&&++t:v<=o&&(s-i)*(o-u)<(v-u)*(n-i)&&--t;return t}(),e=m&&t,i=(l=T(l)).length;(e||i)&&(r.polygonStart(),e&&(r.lineStart(),u(null,null,1,r),r.lineEnd()),i&&b(l,a,t,u,r),r.polygonEnd()),E=r,l=f=c=null}};function w(n,t){i(n,t)&&E.point(n,t)}function j(r,u){var l=i(r,u);if(f&&c.push([r,u]),y)p=r,s=u,v=l,y=!1,l&&(E.lineStart(),E.point(r,u));else if(l&&d)E.point(r,u);else{var a=[h=Math.max(B,Math.min(C,h)),g=Math.max(B,Math.min(C,g))],S=[r=Math.max(B,Math.min(C,r)),u=Math.max(B,Math.min(C,u))];!function(n,t,r,e,o,i){var u,l=n[0],a=n[1],f=0,c=1,p=t[0]-l,s=t[1]-a;if(u=r-l,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<c&&(c=u)}else if(p>0){if(u>c)return;u>f&&(f=u)}if(u=o-l,p||!(u<0)){if(u/=p,p<0){if(u>c)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<c&&(c=u)}if(u=e-a,s||!(u>0)){if(u/=s,s<0){if(u<f)return;u<c&&(c=u)}else if(s>0){if(u>c)return;u>f&&(f=u)}if(u=i-a,s||!(u<0)){if(u/=s,s<0){if(u>c)return;u>f&&(f=u)}else if(s>0){if(u<f)return;u<c&&(c=u)}return f>0&&(n[0]=l+f*p,n[1]=a+f*s),c<1&&(t[0]=l+c*p,t[1]=a+c*s),!0}}}}}(a,S,n,t,e,o)?l&&(E.lineStart(),E.point(r,u),m=!1):(d||(E.lineStart(),E.point(a[0],a[1])),E.point(S[0],S[1]),l||E.lineEnd(),m=!1)}h=r,g=u,d=l}return x}}(nn=+n[0][0],i=+n[0][1],c=+n[1][0],p=+n[1][1]),sn()):null==nn?null:[[nn,i],[c,p]]},en.scale=function(n){return arguments.length?(x=+n,an()):x},en.translate=function(n){return arguments.length?(P=+n[0],_=+n[1],an()):[P,_]},en.center=function(n){return arguments.length?(z=n[0]%360*a,I=n[1]%360*a,an()):[z*l,I*l]},en.rotate=function(n){return arguments.length?(G=n[0]%360*a,K=n[1]%360*a,W=n.length>2?n[2]%360*a:0,an()):[G*l,K*l,W*l]},en.angle=function(n){return arguments.length?($=n%360*a,an()):$*l},en.reflectX=function(n){return arguments.length?(J=n?-1:1,an()):J<0},en.reflectY=function(n){return arguments.length?(Q=n?-1:1,an()):Q<0},en.precision=function(n){return arguments.length?(h=fn(d,rn=n*n),sn()):g(rn)},en.fitExtent=function(n,t){return ln(en,n,t)},en.fitSize=function(n,t){return function(n,t,r){return ln(n,[[0,0],t],r)}(en,n,t)},en.fitWidth=function(n,t){return function(n,t,r){return un(n,(function(r){var e=+t,o=e/(r[1][0]-r[0][0]),i=(e-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];n.scale(150*o).translate([i,u])}),r)}(en,n,t)},en.fitHeight=function(n,t){return function(n,t,r){return un(n,(function(r){var e=+t,o=e/(r[1][1]-r[0][1]),i=-o*r[0][0],u=(e-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([i,u])}),r)}(en,n,t)},function(){return t=n.apply(this,arguments),en.invert=t.invert&&on,an()}}((function(){return dn}))()).scale(124.75).clipAngle(179.999).rotate([-10,-52]).reflectX(!1).reflectY(!0).scale(6378137).translate([4321e3,321e4]),Sn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EUR",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0,e=(r=r||{}).ex||1.2,o=r.fontFamily||"Arial",i=r.exSize||1;return r.style=r.style||function(n,t){if(!(n.rs<e*t))return n.r1<e*t?i+"em "+o:1.5*i+"em "+o},r.proj=r.proj||yn,r.preprocess=function(n){if(r.ccIn&&n.cc&&!(r.ccIn.indexOf(n.cc)>=0))return!1;var t=r.proj([n.lon,n.lat]);n.x=t[0],n.y=t[1],delete n.lon,delete n.lat},r.baseURL=r.baseURL||"https://raw.githubusercontent.com/eurostat/euronym/main/pub/v3/UTF_LATIN/",r.url=r.baseURL+t+"/"+n+".csv",r},mn=function(n){var t=(n=n||{}).nutsYear||"2021",r=n.geo,e=n.crs||"3035",o=n.scale||"03M",i=n.nutsLevel||"3",u=n.col||"#888",l=n.colKosovo||"#bcbcbc",a=null==n.showOth||n.showOth;return n.proj&&(n.preprocess=function(t){if("LineString"===t.geometry.type){var r,e=[],o=function(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,t){if(n){if("string"==typeof n)return gn(n,t);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gn(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return u=n.done,n},e:function(n){l=!0,i=n},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw i}}}}(t.geometry.coordinates);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.push(n.proj(i))}}catch(n){o.e(n)}finally{o.f()}t.geometry.coordinates=e}else console.warn("Could not project boundary - unsupported geometry type: "+t.geometry.type)}),n.color=n.color||function(n,t){var r=n.properties;if(a||"T"==r.eu||"T"==r.cc||"T"==r.efta||"T"!==r.oth)return r.id>=1e5?l:"T"===r.co||t<400?u:t<1e3?r.lvl>=3?"":u:t<2e3?r.lvl>=2?"":u:r.lvl>=1?"":u},n.width=n.width||function(n,t){var r=n.properties;return"T"===r.co?.5:t<400?3==r.lvl||2==r.lvl||1==r.lvl?2.2:4:t<1e3?2==r.lvl||1==r.lvl?1.8:2.5:t<2e3?1==r.lvl?1.8:2.5:1.2},n.lineDash=n.lineDash||function(n,t){var r=n.properties;return"T"===r.co?[]:t<400?3==r.lvl?[2*t,2*t]:2==r.lvl||1==r.lvl?[5*t,2*t]:[10*t,3*t]:t<1e3?2==r.lvl||1==r.lvl?[5*t,2*t]:[10*t,3*t]:t<2e3&&1==r.lvl?[5*t,2*t]:[10*t,3*t]},n.baseURL=n.baseURL||"https://raw.githubusercontent.com/eurostat/Nuts2json/master/pub/v2/",n.url=n.baseURL+t+(r?"/"+r:"")+"/"+e+"/"+o+"/nutsbn_"+i+".json",n};function En(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OSMPositronBackground",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG3035",e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.url="https://gisco-services.ec.europa.eu/maps/tiles/"+n+"/"+r+"/",e.resolutions=Array.from({length:t},(function(n,t){return 156543.03392804097*Math.pow(2,-t)})),e.origin=[0,6e6],e}return t})()));