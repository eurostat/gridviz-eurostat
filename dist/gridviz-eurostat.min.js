!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.gviz_es=t():n.gviz_es=t()}(self,(()=>(()=>{"use strict";var n={d:(t,r)=>{for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t),r:n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};n.r(t),n.d(t,{getEuronymeLabelLayer:()=>En,getEurostatBoundariesLayer:()=>bn,proj3035:()=>mn});var r=1e-6,e=1e-12,i=Math.PI,o=i/2,u=i/4,l=2*i,a=180/i,f=i/180,c=Math.abs,p=Math.atan,s=Math.atan2,v=Math.cos,h=(Math.ceil,Math.exp,Math.floor,Math.hypot,Math.log,Math.pow,Math.sin),d=Math.sign||function(n){return n>0?1:n<0?-1:0},g=Math.sqrt;function y(n){return n>1?o:n<-1?-o:Math.asin(n)}function S(){}function m(){var n,t=[];return{point:function(t,r,e){n.push([t,r,e])},lineStart:function(){t.push(n=[])},lineEnd:S,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function E(n,t){return c(n[0]-t[0])<r&&c(n[1]-t[1])<r}function b(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function M(n,t,e,i,o){var u,l,a=[],f=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,i=n[0],l=n[t];if(E(i,l)){if(!i[2]&&!l[2]){for(o.lineStart(),u=0;u<t;++u)o.point((i=n[u])[0],i[1]);return void o.lineEnd()}l[0]+=2*r}a.push(e=new b(i,n,null,!0)),f.push(e.o=new b(i,null,e,!1)),a.push(e=new b(l,n,null,!1)),f.push(e.o=new b(l,null,e,!0))}})),a.length){for(f.sort(t),x(a),x(f),u=0,l=f.length;u<l;++u)f[u].e=e=!e;for(var c,p,s=a[0];;){for(var v=s,h=!0;v.v;)if((v=v.n)===s)return;c=v.z,o.lineStart();do{if(v.v=v.o.v=!0,v.e){if(h)for(u=0,l=c.length;u<l;++u)o.point((p=c[u])[0],p[1]);else i(v.x,v.n.x,1,o);v=v.n}else{if(h)for(c=v.p.z,u=c.length-1;u>=0;--u)o.point((p=c[u])[0],p[1]);else i(v.x,v.p.x,-1,o);v=v.p}c=(v=v.o).z,h=!h}while(!v.v);o.lineEnd()}}}function x(n){if(t=n.length){for(var t,r,e=0,i=n[0];++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}Math.tan;class w{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let r=0;for(let e=0;e<this._n&&e<32;e++){const i=t[e],o=n+i,u=Math.abs(n)<Math.abs(i)?n-(o-i):i-(o-n);u&&(t[r++]=u),n=o}return t[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let t,r,e,i=this._n,o=0;if(i>0){for(o=n[--i];i>0&&(t=o,r=n[--i],o=t+r,e=r-(o-t),!e););i>0&&(e<0&&n[i-1]<0||e>0&&n[i-1]>0)&&(r=2*e,t=o+r,r==t-o&&(o=t))}return o}}function j(n){return[s(n[1],n[0]),y(n[2])]}function L(n){var t=n[0],r=n[1],e=v(r);return[e*v(t),e*h(t),h(r)]}function N(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function O(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function _(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function A(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function P(n){var t=g(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function T(n){return c(n[0])<=i?n[0]:d(n[0])*((c(n[0])+i)%l-i)}function U(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}function z(n,t,a,f){return function(c){var p,d,g,S=t(c),E=m(),b=t(E),x=!1,j={point:N,lineStart:A,lineEnd:z,polygonStart:function(){j.point=F,j.lineStart=C,j.lineEnd=Y,d=[],p=[]},polygonEnd:function(){j.point=N,j.lineStart=A,j.lineEnd=z,d=U(d);var n=function(n,t){var a=T(t),f=t[1],c=h(f),p=[h(a),-v(a),0],d=0,g=0,S=new w;1===c?f=o+r:-1===c&&(f=-o-r);for(var m=0,E=n.length;m<E;++m)if(M=(b=n[m]).length)for(var b,M,x=b[M-1],j=T(x),N=x[1]/2+u,_=h(N),A=v(N),U=0;U<M;++U,j=R,_=F,A=C,x=z){var z=b[U],R=T(z),I=z[1]/2+u,F=h(I),C=v(I),Y=R-j,D=Y>=0?1:-1,X=D*Y,q=X>i,B=_*F;if(S.add(s(B*D*h(X),A*C+B*v(X))),d+=q?Y+D*l:Y,q^j>=a^R>=a){var G=O(L(x),L(z));P(G);var H=O(p,G);P(H);var K=(q^Y>=0?-1:1)*y(H[2]);(f>K||f===K&&(G[0]||G[1]))&&(g+=q^Y>=0?1:-1)}}return(d<-r||d<r&&S<-e)^1&g}(p,f);d.length?(x||(c.polygonStart(),x=!0),M(d,I,n,a,c)):n&&(x||(c.polygonStart(),x=!0),c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&(c.polygonEnd(),x=!1),d=p=null},sphere:function(){c.polygonStart(),c.lineStart(),a(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function N(t,r){n(t,r)&&c.point(t,r)}function _(n,t){S.point(n,t)}function A(){j.point=_,S.lineStart()}function z(){j.point=N,S.lineEnd()}function F(n,t){g.push([n,t]),b.point(n,t)}function C(){b.lineStart(),g=[]}function Y(){F(g[0][0],g[0][1]),b.lineEnd();var n,t,r,e,i=b.clean(),o=E.result(),u=o.length;if(g.pop(),p.push(g),g=null,u)if(1&i){if((t=(r=o[0]).length-1)>0){for(x||(c.polygonStart(),x=!0),c.lineStart(),n=0;n<t;++n)c.point((e=r[n])[0],e[1]);c.lineEnd()}}else u>1&&2&i&&o.push(o.pop().concat(o.shift())),d.push(o.filter(R))}return j}}function R(n){return n.length>1}function I(n,t){return((n=n.x)[0]<0?n[1]-o-r:o-n[1])-((t=t.x)[0]<0?t[1]-o-r:o-t[1])}const F=z((function(){return!0}),(function(n){var t,e=NaN,u=NaN,l=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(a,f){var s=a>0?i:-i,d=c(a-e);c(d-i)<r?(n.point(e,u=(u+f)/2>0?o:-o),n.point(l,u),n.lineEnd(),n.lineStart(),n.point(s,u),n.point(a,u),t=0):l!==s&&d>=i&&(c(e-l)<r&&(e-=l*r),c(a-s)<r&&(a-=s*r),u=function(n,t,e,i){var o,u,l=h(n-e);return c(l)>r?p((h(t)*(u=v(i))*h(e)-h(i)*(o=v(t))*h(n))/(o*u*l)):(t+i)/2}(e,u,a,f),n.point(l,u),n.lineEnd(),n.lineStart(),n.point(s,u),t=0),n.point(e=a,u=f),l=s},lineEnd:function(){n.lineEnd(),e=u=NaN},clean:function(){return 2-t}}}),(function(n,t,e,u){var l;if(null==n)l=e*o,u.point(-i,l),u.point(0,l),u.point(i,l),u.point(i,0),u.point(i,-l),u.point(0,-l),u.point(-i,-l),u.point(-i,0),u.point(-i,l);else if(c(n[0]-t[0])>r){var a=n[0]<t[0]?i:-i;l=e*a/2,u.point(-a,l),u.point(0,l),u.point(a,l)}else u.point(t[0],t[1])}),[-i,-o]);function C(n,t){(t=L(t))[0]-=n,P(t);var e,o=(e=-t[1])>1?0:e<-1?i:Math.acos(e);return((-t[2]<0?-o:o)+l-r)%l}var Y=1e9,D=-Y;function X(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r}const q=n=>n;function B(n,t){return c(n)>i&&(n-=Math.round(n/l)*l),[n,t]}function G(n){return function(t,r){return c(t+=n)>i&&(t-=Math.round(t/l)*l),[t,r]}}function H(n){var t=G(n);return t.invert=G(-n),t}function K(n,t){var r=v(n),e=h(n),i=v(t),o=h(t);function u(n,t){var u=v(t),l=v(n)*u,a=h(n)*u,f=h(t),c=f*r+l*e;return[s(a*i-c*o,l*r-f*e),y(c*i+a*o)]}return u.invert=function(n,t){var u=v(t),l=v(n)*u,a=h(n)*u,f=h(t),c=f*i-a*o;return[s(a*i+f*o,l*r+c*e),y(c*r-l*e)]},u}function W(n){return function(t){var r=new $;for(var e in n)r[e]=n[e];return r.stream=t,r}}function $(){}function k(n,t){n&&Q.hasOwnProperty(n.type)&&Q[n.type](n,t)}B.invert=B,$.prototype={constructor:$,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var J={Feature:function(n,t){k(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)k(r[e].geometry,t)}},Q={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){V(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)V(r[e],t,0)},Polygon:function(n,t){Z(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Z(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)k(r[e],t)}};function V(n,t,r){var e,i=-1,o=n.length-r;for(t.lineStart();++i<o;)e=n[i],t.point(e[0],e[1],e[2]);t.lineEnd()}function Z(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)V(n[r],t,1);t.polygonEnd()}var nn=1/0,tn=nn,rn=-nn,en=rn,on={point:function(n,t){n<nn&&(nn=n),n>rn&&(rn=n),t<tn&&(tn=t),t>en&&(en=t)},lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S,result:function(){var n=[[nn,tn],[rn,en]];return rn=en=-(tn=nn=1/0),n}};const un=on;function ln(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=e&&n.clipExtent(null),function(n,t){n&&J.hasOwnProperty(n.type)?J[n.type](n,t):k(n,t)}(r,n.stream(un)),t(un.result()),null!=e&&n.clipExtent(e),n}function an(n,t,r){return ln(n,(function(r){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(e/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),u=+t[0][0]+(e-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(i-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([u,l])}),r)}var fn=16,cn=v(30*f);function pn(n,t){return+t?function(n,t){function e(i,o,u,l,a,f,p,v,h,d,S,m,E,b){var M=p-i,x=v-o,w=M*M+x*x;if(w>4*t&&E--){var j=l+d,L=a+S,N=f+m,O=g(j*j+L*L+N*N),_=y(N/=O),A=c(c(N)-1)<r||c(u-h)<r?(u+h)/2:s(L,j),P=n(A,_),T=P[0],U=P[1],z=T-i,R=U-o,I=x*z-M*R;(I*I/w>t||c((M*z+x*R)/w-.5)>.3||l*d+a*S+f*m<cn)&&(e(i,o,u,l,a,f,T,U,A,j/=O,L/=O,N,E,b),b.point(T,U),e(T,U,A,j,L,N,p,v,h,d,S,m,E,b))}}return function(t){var r,i,o,u,l,a,f,c,p,s,v,h,d={point:g,lineStart:y,lineEnd:m,polygonStart:function(){t.polygonStart(),d.lineStart=E},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(r,e){r=n(r,e),t.point(r[0],r[1])}function y(){c=NaN,d.point=S,t.lineStart()}function S(r,i){var o=L([r,i]),u=n(r,i);e(c,p,f,s,v,h,c=u[0],p=u[1],f=r,s=o[0],v=o[1],h=o[2],fn,t),t.point(c,p)}function m(){d.point=g,t.lineEnd()}function E(){y(),d.point=b,d.lineEnd=M}function b(n,t){S(r=n,t),i=c,o=p,u=s,l=v,a=h,d.point=S}function M(){e(c,p,f,s,v,h,i,o,r,u,l,a,fn,t),d.lineEnd=m,m()}return d}}(n,t):function(n){return W({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}var sn=W({point:function(n,t){this.stream.point(n*f,t*f)}});function vn(n,t,r,e,i,o){if(!o)return function(n,t,r,e,i){function o(o,u){return[t+n*(o*=e),r-n*(u*=i)]}return o.invert=function(o,u){return[(o-t)/n*e,(r-u)/n*i]},o}(n,t,r,e,i);var u=v(o),l=h(o),a=u*n,f=l*n,c=u/n,p=l/n,s=(l*r-u*t)/n,d=(l*t+u*r)/n;function g(n,o){return[a*(n*=e)-f*(o*=i)+t,r-f*n-a*o]}return g.invert=function(n,t){return[e*(c*n-p*t+s),i*(d-p*n-c*t)]},g}var hn,dn,gn=(hn=function(n){return g(2/(1+n))},function(n,t){var r=v(n),e=v(t),i=hn(r*e);return i===1/0?[2,0]:[i*e*h(n),i*h(t)]});function yn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}gn.invert=(dn=function(n){return 2*y(n/2)},function(n,t){var r=g(n*n+t*t),e=dn(r),i=h(e),o=v(e);return[s(n*i,r*o),y(r&&t*i/r)]});var Sn,mn=(Sn=gn,function(n){var t,e,o,u,p,s,d,y,S,b,x=150,w=480,P=250,T=0,R=0,I=0,G=0,$=0,k=0,J=1,Q=1,V=null,Z=F,nn=null,tn=q,rn=.5;function en(n){return y(n[0]*f,n[1]*f)}function on(n){return(n=y.invert(n[0],n[1]))&&[n[0]*a,n[1]*a]}function un(){var n=vn(x,0,0,J,Q,k).apply(null,t(T,R)),r=vn(x,w-n[0],P-n[1],J,Q,k);return e=function(n,t,r){return(n%=l)?t||r?X(H(n),K(t,r)):H(n):t||r?K(t,r):B}(I,G,$),d=X(t,r),y=X(e,d),s=pn(d,rn),fn()}function fn(){return S=b=null,en}return en.stream=function(n){return S&&b===n?S:S=sn(function(n){return W({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}(e)(Z(s(tn(b=n)))))},en.preclip=function(n){return arguments.length?(Z=n,V=void 0,fn()):Z},en.postclip=function(n){return arguments.length?(tn=n,nn=o=u=p=null,fn()):tn},en.clipAngle=function(n){return arguments.length?(Z=+n?function(n){var t=v(n),e=6*f,o=t>0,u=c(t)>r;function a(n,r){return v(n)*v(r)>t}function p(n,e,o){var u=[1,0,0],l=O(L(n),L(e)),a=N(l,l),f=l[0],p=a-f*f;if(!p)return!o&&n;var s=t*a/p,v=-t*f/p,h=O(u,l),d=A(u,s);_(d,A(l,v));var y=h,S=N(d,y),m=N(y,y),E=S*S-m*(N(d,d)-1);if(!(E<0)){var b=g(E),M=A(y,(-S-b)/m);if(_(M,d),M=j(M),!o)return M;var x,w=n[0],P=e[0],T=n[1],U=e[1];P<w&&(x=w,w=P,P=x);var z=P-w,R=c(z-i)<r;if(!R&&U<T&&(x=T,T=U,U=x),R||z<r?R?T+U>0^M[1]<(c(M[0]-w)<r?T:U):T<=M[1]&&M[1]<=U:z>i^(w<=M[0]&&M[0]<=P)){var I=A(y,(-S+b)/m);return _(I,d),[M,j(I)]}}}function s(t,r){var e=o?n:i-n,u=0;return t<-e?u|=1:t>e&&(u|=2),r<-e?u|=4:r>e&&(u|=8),u}return z(a,(function(n){var t,r,e,l,f;return{lineStart:function(){l=e=!1,f=1},point:function(c,v){var h,d=[c,v],g=a(c,v),y=o?g?0:s(c,v):g?s(c+(c<0?i:-i),v):0;if(!t&&(l=e=g)&&n.lineStart(),g!==e&&(!(h=p(t,d))||E(t,h)||E(d,h))&&(d[2]=1),g!==e)f=0,g?(n.lineStart(),h=p(d,t),n.point(h[0],h[1])):(h=p(t,d),n.point(h[0],h[1],2),n.lineEnd()),t=h;else if(u&&t&&o^g){var S;y&r||!(S=p(d,t,!0))||(f=0,o?(n.lineStart(),n.point(S[0][0],S[0][1]),n.point(S[1][0],S[1][1]),n.lineEnd()):(n.point(S[1][0],S[1][1]),n.lineEnd(),n.lineStart(),n.point(S[0][0],S[0][1],3)))}!g||t&&E(t,d)||n.point(d[0],d[1]),t=d,e=g,r=y},lineEnd:function(){e&&n.lineEnd(),t=null},clean:function(){return f|(l&&e)<<1}}}),(function(t,r,i,o){!function(n,t,r,e,i,o){if(r){var u=v(t),a=h(t),f=e*r;null==i?(i=t+e*l,o=t-f/2):(i=C(u,i),o=C(u,o),(e>0?i<o:i>o)&&(i+=e*l));for(var c,p=i;e>0?p>o:p<o;p-=f)c=j([u,-a*v(p),-a*h(p)]),n.point(c[0],c[1])}}(o,n,e,i,t,r)}),o?[0,-n]:[-i,n-i])}(V=n*f):(V=null,F),fn()):V*a},en.clipExtent=function(n){return arguments.length?(tn=null==n?(nn=o=u=p=null,q):function(n,t,e,i){function o(r,o){return n<=r&&r<=e&&t<=o&&o<=i}function u(r,o,u,a){var c=0,p=0;if(null==r||(c=l(r,u))!==(p=l(o,u))||f(r,o)<0^u>0)do{a.point(0===c||3===c?n:e,c>1?i:t)}while((c=(c+u+4)%4)!==p);else a.point(o[0],o[1])}function l(i,o){return c(i[0]-n)<r?o>0?0:3:c(i[0]-e)<r?o>0?2:1:c(i[1]-t)<r?o>0?1:0:o>0?3:2}function a(n,t){return f(n.x,t.x)}function f(n,t){var r=l(n,1),e=l(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(r){var l,f,c,p,s,v,h,d,g,y,S,E=r,b=m(),x={point:w,lineStart:function(){x.point=j,f&&f.push(c=[]),y=!0,g=!1,h=d=NaN},lineEnd:function(){l&&(j(p,s),v&&g&&b.rejoin(),l.push(b.result())),x.point=w,g&&E.lineEnd()},polygonStart:function(){E=b,l=[],f=[],S=!0},polygonEnd:function(){var t=function(){for(var t=0,r=0,e=f.length;r<e;++r)for(var o,u,l=f[r],a=1,c=l.length,p=l[0],s=p[0],v=p[1];a<c;++a)o=s,u=v,s=(p=l[a])[0],v=p[1],u<=i?v>i&&(s-o)*(i-u)>(v-u)*(n-o)&&++t:v<=i&&(s-o)*(i-u)<(v-u)*(n-o)&&--t;return t}(),e=S&&t,o=(l=U(l)).length;(e||o)&&(r.polygonStart(),e&&(r.lineStart(),u(null,null,1,r),r.lineEnd()),o&&M(l,a,t,u,r),r.polygonEnd()),E=r,l=f=c=null}};function w(n,t){o(n,t)&&E.point(n,t)}function j(r,u){var l=o(r,u);if(f&&c.push([r,u]),y)p=r,s=u,v=l,y=!1,l&&(E.lineStart(),E.point(r,u));else if(l&&g)E.point(r,u);else{var a=[h=Math.max(D,Math.min(Y,h)),d=Math.max(D,Math.min(Y,d))],m=[r=Math.max(D,Math.min(Y,r)),u=Math.max(D,Math.min(Y,u))];!function(n,t,r,e,i,o){var u,l=n[0],a=n[1],f=0,c=1,p=t[0]-l,s=t[1]-a;if(u=r-l,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<c&&(c=u)}else if(p>0){if(u>c)return;u>f&&(f=u)}if(u=i-l,p||!(u<0)){if(u/=p,p<0){if(u>c)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<c&&(c=u)}if(u=e-a,s||!(u>0)){if(u/=s,s<0){if(u<f)return;u<c&&(c=u)}else if(s>0){if(u>c)return;u>f&&(f=u)}if(u=o-a,s||!(u<0)){if(u/=s,s<0){if(u>c)return;u>f&&(f=u)}else if(s>0){if(u<f)return;u<c&&(c=u)}return f>0&&(n[0]=l+f*p,n[1]=a+f*s),c<1&&(t[0]=l+c*p,t[1]=a+c*s),!0}}}}}(a,m,n,t,e,i)?l&&(E.lineStart(),E.point(r,u),S=!1):(g||(E.lineStart(),E.point(a[0],a[1])),E.point(m[0],m[1]),l||E.lineEnd(),S=!1)}h=r,d=u,g=l}return x}}(nn=+n[0][0],o=+n[0][1],u=+n[1][0],p=+n[1][1]),fn()):null==nn?null:[[nn,o],[u,p]]},en.scale=function(n){return arguments.length?(x=+n,un()):x},en.translate=function(n){return arguments.length?(w=+n[0],P=+n[1],un()):[w,P]},en.center=function(n){return arguments.length?(T=n[0]%360*f,R=n[1]%360*f,un()):[T*a,R*a]},en.rotate=function(n){return arguments.length?(I=n[0]%360*f,G=n[1]%360*f,$=n.length>2?n[2]%360*f:0,un()):[I*a,G*a,$*a]},en.angle=function(n){return arguments.length?(k=n%360*f,un()):k*a},en.reflectX=function(n){return arguments.length?(J=n?-1:1,un()):J<0},en.reflectY=function(n){return arguments.length?(Q=n?-1:1,un()):Q<0},en.precision=function(n){return arguments.length?(s=pn(d,rn=n*n),fn()):g(rn)},en.fitExtent=function(n,t){return an(en,n,t)},en.fitSize=function(n,t){return function(n,t,r){return an(n,[[0,0],t],r)}(en,n,t)},en.fitWidth=function(n,t){return function(n,t,r){return ln(n,(function(r){var e=+t,i=e/(r[1][0]-r[0][0]),o=(e-i*(r[1][0]+r[0][0]))/2,u=-i*r[0][1];n.scale(150*i).translate([o,u])}),r)}(en,n,t)},en.fitHeight=function(n,t){return function(n,t,r){return ln(n,(function(r){var e=+t,i=e/(r[1][1]-r[0][1]),o=-i*r[0][0],u=(e-i*(r[1][1]+r[0][1]))/2;n.scale(150*i).translate([o,u])}),r)}(en,n,t)},function(){return t=n.apply(this,arguments),en.invert=t.invert&&on,un()}}((function(){return Sn}))()).scale(124.75).clipAngle(179.999).rotate([-10,-52]).reflectX(!1).reflectY(!0).scale(6378137).translate([4321e3,321e4]),En=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EUR",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0,e=(r=r||{}).ex||1.2,i=r.fontFamily||"Arial",o=r.exSize||1;return r.style=r.style||function(n,t){if(!(n.rs<e*t))return n.r1<e*t?o+"em "+i:1.5*o+"em "+i},r.proj=r.proj||mn,r.preprocess=function(n){if(r.ccIn&&n.cc&&!(r.ccIn.indexOf(n.cc)>=0))return!1;var t=r.proj([n.lon,n.lat]);n.x=t[0],n.y=t[1],delete n.lon,delete n.lat},r.baseURL=r.baseURL||"https://raw.githubusercontent.com/eurostat/euronym/main/pub/v2/UTF/",r.url=r.baseURL+t+"/"+n+".csv",r},bn=function(n){var t=(n=n||{}).nutsYear||"2021",r=n.geo,e=n.crs||"3035",i=n.scale||"03M",o=n.nutsLevel||"3",u=n.col||"#888",l=n.colKosovo||"#bcbcbc",a=null==n.showOth||n.showOth;return n.proj&&(n.preprocess=function(t){if("LineString"===t.geometry.type){var r,e=[],i=function(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,t){if(n){if("string"==typeof n)return yn(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yn(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,i=function(){};return{s:i,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return u=n.done,n},e:function(n){l=!0,o=n},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}(t.geometry.coordinates);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.push(n.proj(o))}}catch(n){i.e(n)}finally{i.f()}t.geometry.coordinates=e}else console.warn("Could not project boundary - unsupported geometry type: "+t.geometry.type)}),n.color=n.color||function(n,t){var r=n.properties;if(a||"T"==r.eu||"T"==r.cc||"T"==r.efta||"T"!==r.oth)return r.id>=1e5?l:"T"===r.co||t<400?u:t<1e3?r.lvl>=3?"":u:t<2e3?r.lvl>=2?"":u:r.lvl>=1?"":u},n.width=n.width||function(n,t){var r=n.properties;return"T"===r.co?.5:t<400?3==r.lvl||2==r.lvl||1==r.lvl?2.2:4:t<1e3?2==r.lvl||1==r.lvl?1.8:2.5:t<2e3?1==r.lvl?1.8:2.5:1.2},n.lineDash=n.lineDash||function(n,t){var r=n.properties;return"T"===r.co?[]:t<400?3==r.lvl?[2*t,2*t]:2==r.lvl||1==r.lvl?[5*t,2*t]:[10*t,3*t]:t<1e3?2==r.lvl||1==r.lvl?[5*t,2*t]:[10*t,3*t]:t<2e3&&1==r.lvl?[5*t,2*t]:[10*t,3*t]},n.baseURL=n.baseURL||"https://raw.githubusercontent.com/eurostat/Nuts2json/master/pub/v2/",n.url=n.baseURL+t+(r?"/"+r:"")+"/"+e+"/"+i+"/nutsbn_"+o+".json",n};return t})()));